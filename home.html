<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>One Little Secret â€” v2</title>

  <!-- Your existing styles -->
  <link rel="stylesheet" href="./style.css">

  <!-- New v2 styles -->
  <link rel="stylesheet" href="./home.css">
</head>

<body>
  <canvas id="confetti"></canvas>

  <div class="wrap">

    <!-- HERO: cover slideshow + typewriter -->
    <div class="hero">
      <div class="card cover cover-v2">
        <img id="coverImg" src="images/cover.JPG" alt="Cover slideshow" />
        <div class="overlay">
          <h1>One Little Secret</h1>
          <p class="sub">
            <span id="typewriter"></span><span class="cursor">â–</span>
          </p>
          <div class="hero-actions">
            <span class="pill">ğŸ§¡ Made with love + mild chaos</span>
            <button class="btn btn-ghost" id="pauseSlideshow">Pause Slideshow</button>
          </div>
        </div>
      </div>

      <div class="card content">

        <!-- Video stays (gallery removed) -->
        <div class="section">
          <h2>ğŸ¥ A little message</h2>
          <p class="muted" style="margin:0 0 12px;">This is such amazing news and weâ€™re all so excited to see tiny versions of you both! You two would be awesome parents to the little one and we all canâ€™t wait to see your growing family. To celebrate this special moment, hereâ€™s a little note from your loved ones. </p>
          <div class="video-embed">
            <iframe
              src="https://www.youtube.com/embed/mzi4ZzQo3aY"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- Fun interactive cards row -->
    <div class="grid section">

  <!-- Baby Feature Spec -->
  <div class="card baby">
    <div class="baby-head">
      <h2>ğŸ¼ Baby v1.0 â€” Feature Spec</h2>
      <span class="badge">STATUS: IN STAGING</span>
    </div>

    <div class="baby-spec">
      <div class="spec-row">
        <div class="muted tiny">Owners</div>
        <div class="mono">Mom & Dad (primary on-call)</div>
      </div>

      <div class="spec-row">
        <div class="muted tiny">SLA</div>
        <div class="mono">Best effort (love-backed)</div>
      </div>

      <div class="spec-row">
        <div class="muted tiny">Dependencies</div>
        <div class="chips">
          <span class="chip">â˜• Coffee</span>
          <span class="chip">ğŸ§¹ Cleaning</span>
          <span class="chip">ğŸ§¡ Love</span>
          <span class="chip">ğŸ¼ Diapers</span>
        </div>
      </div>

      <button class="btn btn-ghost baby-toggle" data-target="#knownIssues">
        â–¸ Known Issues
      </button>
      <div id="knownIssues" class="accordion hidden">
        <ul class="muted" style="margin:0; padding-left: 18px;">
          <li>Random wake events (no stack trace provided)</li>
          <li>Loud notifications (cannot be muted)</li>
          <li>Frequent â€œrebootsâ€ required</li>
          <li>Documentation: missing</li>
        </ul>
      </div>

      <button class="btn btn-ghost baby-toggle" data-target="#roadmap">
        â–¸ Roadmap
      </button>
      <div id="roadmap" class="accordion hidden">
        <ul class="muted" style="margin:0; padding-left: 18px;">
          <li>Smile feature rollout (beta)</li>
          <li>First word MVP</li>
          <li>Walking GA (date TBD)</li>
        </ul>
      </div>

      <div class="baby-actions">
        <button class="btn" id="runTests">â–¶ Run Tests</button>
        <button class="btn btn-ghost" id="clearTests">Clear</button>
      </div>

      <pre id="testOutput" class="baby-console hidden"></pre>
    </div>
  </div>

  <!-- Predictions Board -->
  <div class="card predict">
  <div class="predict-head">
    <h2>ğŸ”® Predictions Board</h2>
    <button class="btn btn-ghost" id="resetPredictions">Reset votes</button>

  </div>

  <div class="pred-accordion">

    <div class="pred-item" data-q="first_word">
      <button class="pred-head" type="button">
        <span class="pred-title">First word will beâ€¦</span>
        <span class="pred-meta muted tiny" data-meta>0 votes</span>
        <span class="pred-chevron">â–¸</span>
      </button>

      <div class="pred-body">
        <div class="pred-options">
          <button class="pred-btn" data-o="mama">Mama</button>
          <button class="pred-btn" data-o="dada">Dada</button>
          <button class="pred-btn" data-o="coffee">Coffee ğŸ˜­</button>
          <button class="pred-btn" data-o="other">Other</button>
        </div>
        <div class="pred-bars"></div>
      </div>
    </div>

    <div class="pred-item" data-q="vibe">
      <button class="pred-head" type="button">
        <span class="pred-title">Babyâ€™s vibe</span>
        <span class="pred-meta muted tiny" data-meta>0 votes</span>
        <span class="pred-chevron">â–¸</span>
      </button>

      <div class="pred-body">
        <div class="pred-options">
          <button class="pred-btn" data-o="chill">Chill</button>
          <button class="pred-btn" data-o="chaos">Chaos gremlin</button>
        </div>
        <div class="pred-bars"></div>
      </div>
    </div>

    <div class="pred-item" data-q="spoiler">
      <button class="pred-head" type="button">
        <span class="pred-title">Who will spoil the baby more?</span>
        <span class="pred-meta muted tiny" data-meta>0 votes</span>
        <span class="pred-chevron">â–¸</span>
      </button>

      <div class="pred-body">
        <div class="pred-options">
          <button class="pred-btn" data-o="mom">Mom</button>
          <button class="pred-btn" data-o="dad">Dad</button>
          <button class="pred-btn" data-o="both">Both</button>
        </div>
        <div class="pred-bars"></div>
      </div>
    </div>

    <div class="pred-item" data-q="cleaning">
      <button class="pred-head" type="button">
        <span class="pred-title">Thursday deep clean survives?</span>
        <span class="pred-meta muted tiny" data-meta>0 votes</span>
        <span class="pred-chevron">â–¸</span>
      </button>

      <div class="pred-body">
        <div class="pred-options">
          <button class="pred-btn" data-o="yes">Yes</button>
          <button class="pred-btn" data-o="no">No</button>
          <button class="pred-btn" data-o="diapers">Replaced by diapers</button>
        </div>
        <div class="pred-bars"></div>
      </div>
    </div>

  </div>
</div>


  <!-- Keep poll -->
  <div class="card poll">
    <h2>âš”ï¸ Team Boy vs Team Girl</h2>
    <p class="muted" style="margin:0 0 12px;">
      Take your guess before the secret is revealed. Choose wisely.
    </p>

    <div class="poll-actions">
      <button class="btn btn-team" id="voteBoy">ğŸ‘¦ Team Boy</button>
      <button class="btn btn-team" id="voteGirl">ğŸ‘§ Team Girl</button>
    </div>

    <div class="poll-stats">
      <div class="stat">
        <div class="stat-label muted">Team Boy</div>
        <div class="stat-value" id="boyCount">0</div>
      </div>
      <div class="stat">
        <div class="stat-label muted">Team Girl</div>
        <div class="stat-value" id="girlCount">0</div>
      </div>
    </div>

    <button class="btn btn-ghost" id="resetVotes" title="Resets votes on this device only">Reset votes</button>
    <button class="btn  btn-ghost" id="submitToGoogle">Submit my votes âœ…</button>
    <button class="btn btn-ghost" id="refreshGlobalVotes">Refresh global votes</button>
<p class="muted tiny" id="globalVoteStatus" style="margin:8px 0 0;"></p>
<p class="muted tiny" id="submitStatus" style="margin:8px 0 0;"></p>
  </div>

</div>


    <!-- Reveal -->
    <div class="card reveal section">
      <h2>Final step</h2>
      <p class="muted" style="margin:0;">
        Click the button to reveal the secret.<br/>
        (If itâ€™s disabledâ€¦ wellâ€¦ you know what to do.)
      </p>

      <!-- They enable via Inspect Element -->
      <button id="revealBtn" class="btn" disabled>ğŸ”’ Click to Reveal the Secret</button>

      <p class="muted tiny" style="margin:0;">
        Tip: If youâ€™re stuck, open DevTools. This is a frontend bug ğŸ˜Œ
      </p>
    </div>
  </div>

  <!-- Modal: slider challenge -> countdown -> reveal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-label="Reveal">
    <div class="modal-card">
      <div class="modal-top">
        <div>
          <div class="muted tiny">Decryptingâ€¦</div>
          <div style="font-weight:900;">Access requires one more step âœ…</div>
        </div>
        <button class="x" id="closeModal">Close</button>
      </div>

      <div class="reveal-stage">

        <!-- STEP 1: Slider challenge -->
        <div id="stepSlider">
          <div class="big">Prove you know your origin story ğŸ˜ˆ</div>
          <p class="muted" style="margin:0 0 14px;">
            Slide to the <b>exact date you met</b> (format: <b>YYYYMMDD</b>).<br/>
          </p>

          <div class="slider-wrap">
            <div class="slider-row">
              <input id="dateSlider" type="range" min="0" max="99999999" step="1" value="0" />
            </div>

            <div class="slider-meta">
              <div class="muted tiny">Current</div>
              <div class="mono" id="sliderValue">00000000</div>
              <div class="muted tiny">Attempts left</div>
              <div class="mono" id="attemptsLeft">3</div>
            </div>

            <div class="slider-actions">
              <button class="btn" id="submitDate">Submit</button>
              <button class="btn btn-ghost" id="nudgeUp" title="Tiny nudge">+1</button>
              <button class="btn btn-ghost" id="nudgeDown" title="Tiny nudge">-1</button>
            </div>

            <!-- Engineer override appears after 2 failed attempts -->
            <div id="overrideBox" class="override hidden">
              <div style="font-weight:900;">Senior Engineer Override unlocked ğŸ§‘â€ğŸ’»</div>
              <p class="muted" style="margin:6px 0 10px;">
                Fine. Hereâ€™s a faster way. Type the date like a civilized person:
              </p>
              <input id="dateInput" class="text-input" placeholder="YYYYMMDD (e.g., 20190623)" />
              <div class="muted tiny" style="margin-top:8px;">
                (Orâ€¦ you knowâ€¦ set the slider value via DevTools like the gremlins you are.)
              </div>
            </div>

            <p class="muted tiny" id="feedback" style="margin:12px 0 0;"></p>
          </div>
        </div>

        <!-- STEP 2: Countdown -->
        <div id="stepCountdown" class="hidden">
          <div class="big">Okay okayâ€¦ initiating reveal</div>
          <p class="muted" style="margin:0 0 12px;">No backing out now.</p>
          <div class="countdown" id="countdownNum">3</div>
        </div>

        <!-- STEP 3: Reveal -->
        <div id="stepReveal" class="hidden">
          <div class="big">Itâ€™s aâ€¦</div>
          <div class="muted">Deep breath. Ready?</div>

          <div class="anim">
            <div id="flip" class="cardflip">
              <div class="inner">
                <div class="face front">
                  <div style="font-weight:900; font-size:18px;">Click â€œRevealâ€</div>
                  <div class="muted tiny" style="margin-top:6px;">to flip the card</div>
                </div>
                <div class="face back" id="genderText">Ahaan... Antha easy ga chepthama...</div>
              </div>
            </div>

            <button class="btn" id="finalReveal" style="margin-top:14px;">ğŸ‰ Reveal</button>
            <div class="muted tiny" style="margin-top:10px;">(Yes, you earned this.)</div>
          </div>
        </div>

      </div>
    </div>
  </div>
<iframe name="gf_hidden_iframe" style="display:none;"></iframe>

<form id="googleVoteForm"
  action="https://docs.google.com/forms/d/e/1FAIpQLSf1FIAqknQc8D6FbWRx2jw-ndwXy1Ygu2L1yXwwDx0wi65KpA/formResponse"
  method="POST"
  target="gf_hidden_iframe"
  style="display:none;">
  <input type="hidden" name="entry.1625703225" id="gf_team" />
  <input type="hidden" name="submit" value="Submit" />
</form>
  <!-- New v2 logic -->
  <script src="./home.js"></script>
</body>
</html>
